---
import "../styles/global.css";
import SwitchTheme from "../components/SwitchTheme.astro";
import SwitchLang from "../components/SwitchLang.astro";
// 这里可以导入其他组件或者数据
const { lang, theme } = Astro.props;
---

<!doctype html>
<html lang={lang} data-theme={theme}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TechTalk Hub - Landing Page</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      /* 淡入动画 */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      /* 平滑滚动 */
      html {
        scroll-behavior: smooth;
      }

      /* 深色模式样式 */
      html[data-theme="dark"] {
        --bg-color: #1a202c;
        --text-color: #e2e8f0;
        --card-bg: #2d3748;
        --menu-bg: #2d3748;
        --menu-text: #e2e8f0;
      }

      /* 浅色模式样式 */
      html[data-theme="light"] {
        --bg-color: #ffffff;
        --text-color: #2d3748;
        --card-bg: #edf2f7;
        --menu-bg: #ffffff;
        --menu-text: #2d3748;
      }

      body {
        background-color: var(--bg-color);
        color: var(--text-color);
      }

      .card {
        background-color: var(--card-bg);
      }

      /* 语言切换下拉菜单样式（参考 Vite 官网） */
      .lang-dropdown {
        position: relative;
      }

      .lang-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.5rem 0.75rem;
        font-size: 0.875rem;
        font-weight: 500;
        line-height: 1.25rem;
        border-radius: 0.375rem;
        cursor: pointer;
        transition:
          background-color 0.2s,
          color 0.2s;
      }

      .lang-btn:hover {
        background-color: var(--card-bg);
        color: #4560ff;
      }

      .lang-menu {
        position: absolute;
        top: calc(100% + 0.5rem);
        right: 0;
        min-width: 8rem;
        padding: 0.5rem 0;
        background-color: var(--menu-bg);
        border-radius: 0.375rem;
        box-shadow:
          0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -2px rgba(0, 0, 0, 0.1);
        z-index: 100;
        animation: fadeIn 0.3s ease-in-out;
      }

      .lang-item {
        padding: 0.5rem 1rem;
        font-size: 0.875rem;
        line-height: 1.25rem;
        color: var(--menu-text);
        cursor: pointer;
        transition:
          background-color 0.2s,
          color 0.2s;
      }

      .lang-item:hover {
        background-color: #f3f4f6;
        color: #4560ff;
      }
    </style>
  </head>
  <body>
    <!-- 导航栏 -->
    <nav class="shadow-md">
      <div
        class="container mx-auto px-4 py-3 flex justify-between items-center"
      >
        <a
          href="#"
          class="text-xl font-bold"
          data-lang-en="TechTalk Hub"
          data-lang-zh="技术交流中心"
        >
          {lang === "en" ? "TechTalk Hub" : 'aaaa' +lang+ "技术交流中心"}
        </a>
        <div class="flex items-center space-x-4">
          <!-- 语言切换下拉菜单 -->
          <SwitchLang lang={lang}></SwitchLang>

          <!-- 主题切换按钮 -->
          <SwitchTheme theme={theme}></SwitchTheme>
        </div>
      </div>
    </nav>

    <main>
      <slot></slot>
    </main>

    <!-- 页脚 -->
    <footer class="py-8">
      <div class="container mx-auto px-4 text-center">
        <p
          data-lang-en="© 2025 TechTalk Hub. All rights reserved."
          data-lang-zh="© 2025 技术交流中心。保留所有权利。"
        >
          {
            lang === "en"
              ? "&copy; 2025 TechTalk Hub. All rights reserved."
              : "&copy; 2025 技术交流中心。保留所有权利。"
          }
        </p>
      </div>
    </footer>
  </body>
</html>
